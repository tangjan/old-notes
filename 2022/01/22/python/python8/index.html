<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#0078E7"><meta name="author" content="糖加盐"><meta name="copyright" content="糖加盐"><meta name="generator" content="Hexo 5.4.0"><meta name="theme" content="hexo-theme-yun"><title>Python-8：面向对象、类和对象、类的设计、面向对象基础语法 | 糖加盐的旧笔记站</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/star-markdown-css@0.1.25/dist/yun/yun-markdown.min.css"><script src="//at.alicdn.com/t/font_1140697_dxory92pb0h.js" async></script><script src="https://cdn.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>function initScrollReveal() {
  [".post-card",".post-content img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
}
document.addEventListener("DOMContentLoaded", initScrollReveal);
document.addEventListener("pjax:success", initScrollReveal);
</script><link id="light-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@latest/themes/prism.css" media="(prefers-color-scheme: light)"><link id="dark-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@latest/themes/prism-tomorrow.css" media="(prefers-color-scheme: dark)"><link rel="icon" type="image/png" href="/favicon.png"><link rel="mask-icon" href="/favicon.png" color="#0078E7"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="preload" href="/js/utils.js" as="script"><link rel="preload" href="/js/hexo-theme-yun.js" as="script"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><script id="yun-config">
    const Yun = window.Yun || {};
    window.CONFIG = {"hostname":"tangjan.github.io","root":"/","title":"糖加盐的笔记站","version":"1.7.0","mode":"auto","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"搜索...","empty":"找不到您查询的内容: ${query}","hits":"找到 ${hits} 条结果","hits_time":"找到 ${hits} 条结果（用时 ${time} 毫秒）"},"anonymous_image":"https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/avatar/none.jpg","say":{"api":"https://v1.hitokoto.cn","hitokoto":true},"fireworks":{"colors":["102, 167, 221","62, 131, 225","33, 78, 194"]}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/utils.js"></script><script src="/js/hexo-theme-yun.js"></script><meta name="description" content="面向过程Procedure-Oriented-Programing，POP我们之前学的代码是面向过程的。     把完成某一个需求的所有步骤从头到尾逐步实现 根据开发需求，将某些功能独立的代码封装成一个个函数 最后完成的代码，就是顺序地调用不同的函数  面向过程注重 步骤与过程，不注重职责分工，不适合复杂项目的开发。      面向对象Object-Oriented-Programing，OOP相">
<meta property="og:type" content="article">
<meta property="og:title" content="Python-8：面向对象、类和对象、类的设计、面向对象基础语法">
<meta property="og:url" content="https://tangjan.github.io/2022/01/22/python/python8/index.html">
<meta property="og:site_name" content="糖加盐的旧笔记站">
<meta property="og:description" content="面向过程Procedure-Oriented-Programing，POP我们之前学的代码是面向过程的。     把完成某一个需求的所有步骤从头到尾逐步实现 根据开发需求，将某些功能独立的代码封装成一个个函数 最后完成的代码，就是顺序地调用不同的函数  面向过程注重 步骤与过程，不注重职责分工，不适合复杂项目的开发。      面向对象Object-Oriented-Programing，OOP相">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/tangjan/imgBed/posts/python/python8/python8-1.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/tangjan/imgBed/posts/python/python8/python8-2.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/tangjan/imgBed/posts/python/python8/python8-3.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/tangjan/imgBed/posts/python/python8/python8-4.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/tangjan/imgBed/posts/python/python8/python8-5.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/tangjan/imgBed/posts/python/python8/python8-6.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/tangjan/imgBed/posts/python/python8/python8-7.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/tangjan/imgBed/posts/python/python8/python8-8.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/tangjan/imgBed/posts/python/python8/python8-9.png">
<meta property="article:published_time" content="2022-01-22T10:00:00.000Z">
<meta property="article:modified_time" content="2022-01-22T10:02:04.688Z">
<meta property="article:author" content="糖加盐">
<meta property="article:tag" content="Python">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/tangjan/imgBed/posts/python/python8/python8-1.png"><script src="/js/ui/mode.js"></script></head><body><script defer src="https://cdn.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="文章目录"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-list-ordered"></use></svg></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="站点概览"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-passport-line"></use></svg></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="糖加盐"><img width="96" loading="lazy" src="/avatar.png" alt="糖加盐"></a><div class="site-author-name"><a href="/about/">糖加盐</a></div><span class="site-name">糖加盐的旧笔记站</span><sub class="site-subtitle"></sub><div class="site-desciption">欢迎光临</div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="首页"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-home-4-line"></use></svg></span></a><div class="site-state-item"><a href="/archives/" title="归档"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-archive-line"></use></svg></span><span class="site-state-item-count">76</span></a></div><div class="site-state-item"><a href="/categories/" title="分类"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-2-line"></use></svg></span><span class="site-state-item-count">9</span></a></div><div class="site-state-item"><a href="/tags/" title="标签"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="site-state-item-count">9</span></a></div><a class="site-state-item hty-icon-button" href="/"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-home-4-line"></use></svg></span></a></nav><hr style="margin-bottom:0.5rem"><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-contrast-2-line"></use></svg></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E8%BF%87%E7%A8%8B"><span class="toc-text">面向过程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1"><span class="toc-text">面向对象</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E5%92%8C%E5%AF%B9%E8%B1%A1"><span class="toc-text">类和对象</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E7%9A%84%E8%AE%BE%E8%AE%A1"><span class="toc-text">类的设计</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95"><span class="toc-text">面向对象基础语法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#dir"><span class="toc-text">dir</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89%E7%AE%80%E5%8D%95%E7%9A%84%E7%B1%BB"><span class="toc-text">定义简单的类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E4%B8%AA%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F"><span class="toc-text">第一个面向对象程序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#self-%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-text">self 的使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96%E6%96%B9%E6%B3%95"><span class="toc-text">初始化方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9C%A8%E5%88%9D%E5%A7%8B%E5%8C%96%E6%96%B9%E6%B3%95%E5%86%85%E9%83%A8%E5%AE%9A%E4%B9%89%E5%B1%9E%E6%80%A7"><span class="toc-text">在初始化方法内部定义属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%85%E7%BD%AE%E6%96%B9%E6%B3%95-del"><span class="toc-text">内置方法 __del__</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%85%E7%BD%AE%E6%96%B9%E6%B3%95-str"><span class="toc-text">内置方法 __str__</span></a></li></ol></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article"><link itemprop="mainEntityOfPage" href="https://tangjan.github.io/2022/01/22/python/python8/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="糖加盐"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="糖加盐的旧笔记站"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">Python-8：面向对象、类和对象、类的设计、面向对象基础语法</h1><div class="post-meta"><div class="post-time" style="display:block"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-line"></use></svg></span> <time title="创建时间：2022-01-22 18:00:00" itemprop="dateCreated datePublished" datetime="2022-01-22T18:00:00+08:00">2022-01-22</time></div><span class="post-count"><span class="post-symbolcount"><span class="post-meta-item-icon" title="本文字数"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-file-word-line"></use></svg></span> <span title="本文字数">1.4k</span></span></span><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-line"></use></svg></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/Python/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">Python</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag-item" href="/tags/Python/" style="--text-color:#3776ab"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">Python</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body" style="--smc-primary:#0078E7;"><h2 id="面向过程"><a href="#面向过程" class="headerlink" title="面向过程"></a><strong>面向过程</strong></h2><p>Procedure-Oriented-Programing，POP<br>我们之前学的代码是面向过程的。   </p>
<ol>
<li>把完成某一个需求的所有步骤从头到尾逐步实现</li>
<li>根据开发需求，将某些功能独立的代码封装成一个个函数</li>
<li>最后完成的代码，就是顺序地调用不同的函数</li>
</ol>
<p>面向过程注重 <strong>步骤与过程</strong>，不注重职责分工，不适合复杂项目的开发。   </p>
<br>

<h2 id="面向对象"><a href="#面向对象" class="headerlink" title="面向对象"></a><strong>面向对象</strong></h2><p>Object-Oriented-Programing，OOP<br>相比于函数，面向对象是更大的封装，根据 <strong>职责</strong> 在一个对象中封装多个方法。    </p>
<p>拿植物大战僵尸来举例子：<br><img src="https://cdn.jsdelivr.net/gh/tangjan/imgBed/posts/python/python8/python8-1.png" style="width:400px" loading="lazy"><br><img src="https://cdn.jsdelivr.net/gh/tangjan/imgBed/posts/python/python8/python8-2.png" style="width:700px" loading="lazy"></p>
<br>

<h2 id="类和对象"><a href="#类和对象" class="headerlink" title="类和对象"></a><strong>类和对象</strong></h2><p><strong>类</strong> 是对一群具有相同特征或行为的事物的统称，是抽象的，不能直接使用。<br><strong>特征</strong> 被称为 <strong>属性</strong>，<strong>行为</strong> 被称为 <strong>方法</strong>。</p>
<p>举例来说，<strong>类</strong> 就相当于制造飞机时的 <strong>图纸</strong>，是一个 <strong>模板</strong>，是负责 <strong>创建对象</strong> 的。<strong>对象</strong> 就相当于飞机。<br>用哪一个类创建的对象，这个对象就具有该类的属性和方法。<br><img src="https://cdn.jsdelivr.net/gh/tangjan/imgBed/posts/python/python8/python8-3.png" style="width:400px" loading="lazy"><br>所以在程序开发中，应该先有类，再有对象。<br>类只需有一个，对象可以有很多个。不同对象之间的属性可能会不同。   </p>
<br>

<h2 id="类的设计"><a href="#类的设计" class="headerlink" title="类的设计"></a><strong>类的设计</strong></h2><p>在使用面向对象开发前，应该首先分析需求，确定一下程序中需要包含哪些类。<br>类的三要素：</p>
<ul>
<li><strong>类名</strong>：大驼峰命名法</li>
<li><strong>属性</strong>：特征</li>
<li><strong>方法</strong>：行为</li>
</ul>
<p>如：</p>
<blockquote>
<p><strong>小明</strong> 今年 <strong>18 岁</strong>，<strong>身高 1.75</strong>，每天早上 <strong>跑</strong> 完步，会去 <strong>吃</strong> 东西<br><strong>小美</strong> 今年 <strong>17 岁</strong>，<strong>身高 1.65</strong>，小美不跑步，小美喜欢 <strong>吃</strong> 东西 </p>
</blockquote>
<p>由此可设计出 <code>Person</code> 类:<br><img src="https://cdn.jsdelivr.net/gh/tangjan/imgBed/posts/python/python8/python8-4.png" style="width:160px" loading="lazy">   </p>
<blockquote>
<p>一只 <strong>黄颜色</strong> 的 <strong>狗狗</strong> 叫 <strong>大黄</strong>   ，看见生人 <strong>汪汪叫</strong>，看见家人 <strong>摇尾巴</strong>  </p>
</blockquote>
<p>由此可设计出 <code>Dog</code> 类:<br><img src="https://cdn.jsdelivr.net/gh/tangjan/imgBed/posts/python/python8/python8-5.png" style="width:160px" loading="lazy">   </p>
<br>

<h2 id="面向对象基础语法"><a href="#面向对象基础语法" class="headerlink" title="面向对象基础语法"></a><strong>面向对象基础语法</strong></h2><h3 id="dir"><a href="#dir" class="headerlink" title="dir"></a><strong>dir</strong></h3><p>快速确认是否是对象：在 标识符 &#x2F; 数据 后面输入一个 <code>.</code>，然后按下 <code>Tab</code> 键，如果是对象的话，就会提示该对象常用的方法列表。<br><img src="https://cdn.jsdelivr.net/gh/tangjan/imgBed/posts/python/python8/python8-6.png" style="width:450px" loading="lazy">   </p>
<p>使用 <code>dir</code> 可以查看对象内的所有的属性及方法。<br><img src="https://cdn.jsdelivr.net/gh/tangjan/imgBed/posts/python/python8/python8-7.png" style="width:280px" loading="lazy">   </p>
<p>如 <code>__doc__</code> 方法的使用：<br><img src="https://cdn.jsdelivr.net/gh/tangjan/imgBed/posts/python/python8/python8-8.png" style="width:250px" loading="lazy">   </p>
<h3 id="定义简单的类"><a href="#定义简单的类" class="headerlink" title="定义简单的类"></a><strong>定义简单的类</strong></h3><p>在一个类中封装多个方法，这样通过这个类创建出来的对象，就可以直接调用这些方法了。<br>如定义一个只包含方法的类：  </p>
<pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> 类名<span class="token punctuation">:</span>

    <span class="token keyword">def</span> 方法<span class="token number">1</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> 参数列表<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">pass</span>
    
    <span class="token keyword">def</span> 方法<span class="token number">2</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> 参数列表<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">pass</span></code></pre>
<ul>
<li>类名要符合 <strong>大驼峰命名法</strong>。</li>
<li>在类中定义方法，第一个参数必须是 <code>self</code>。</li>
</ul>
<p><strong>使用类创建对象</strong>： </p>
<pre class="language-python" data-language="python"><code class="language-python">对象变量 <span class="token operator">=</span> 类名<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>

<h3 id="第一个面向对象程序"><a href="#第一个面向对象程序" class="headerlink" title="第一个面向对象程序"></a><strong>第一个面向对象程序</strong></h3><blockquote>
<p><strong>小猫</strong> 爱 <strong>吃</strong> 鱼，<strong>小猫</strong> 要 <strong>喝</strong> 水   </p>
</blockquote>
<pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Cat</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""猫类"""</span>

    <span class="token keyword">def</span> <span class="token function">eat</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"小猫爱吃鱼"</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">drink</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"小猫要喝水"</span><span class="token punctuation">)</span>


tom <span class="token operator">=</span> Cat<span class="token punctuation">(</span><span class="token punctuation">)</span>
tom<span class="token punctuation">.</span>drink<span class="token punctuation">(</span><span class="token punctuation">)</span>
tom<span class="token punctuation">.</span>eat<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>

<p>要给对象设置 <strong>属性</strong> 很简单，只需要在 <strong>类的外部的代码</strong> 中直接通过 <code>.</code> 设置一个属性即可，如：   </p>
<pre class="language-python" data-language="python"><code class="language-python">tom<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"Tom"</span>
lazy_cat<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"大懒猫"</span></code></pre>
<p>但是不推荐使用，因为对象属性的封装应该封装在类的内部。    </p>
<h3 id="self-的使用"><a href="#self-的使用" class="headerlink" title="self 的使用"></a><strong>self 的使用</strong></h3><p>由哪一个对象调用的方法，方法内的 <code>self</code> 就是哪一个对象的引用。   </p>
<pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token keyword">def</span> <span class="token function">demo</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"%s"</span> <span class="token operator">%</span> self<span class="token punctuation">.</span>name<span class="token punctuation">)</span>


tom <span class="token operator">=</span> Cat<span class="token punctuation">(</span><span class="token punctuation">)</span>
tom<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"Tom"</span>
tom<span class="token punctuation">.</span>demo<span class="token punctuation">(</span><span class="token punctuation">)</span>

lazy_cat <span class="token operator">=</span> Cat<span class="token punctuation">(</span><span class="token punctuation">)</span>
lazy_cat<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"大懒猫"</span>
lazy_cat<span class="token punctuation">.</span>demo<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>输出：</p>
<pre class="language-none"><code class="language-none">Tom
大懒猫</code></pre>
<p>也就是说：</p>
<ul>
<li>在 <strong>类的外部</strong>，通过 <code>变量名.</code> 访问对象的属性和方法</li>
<li>在 <strong>类封装的方法中</strong>，通过 <code>self.</code> 访问对象的属性和方法</li>
</ul>
<h3 id="初始化方法"><a href="#初始化方法" class="headerlink" title="初始化方法"></a><strong>初始化方法</strong></h3><p>当使用 <code>类名()</code> 创建对象时，会自动为对象在内存中分配空间，并设置初始值。<br>初始化方法就是 <code>__init__</code> 方法，是对象的一种内置方法，该方法在创建对象时会被自动调用：</p>
<pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Cat</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"初始化方法"</span><span class="token punctuation">)</span>


tom <span class="token operator">=</span> Cat<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>输出：<code>初始化方法</code></p>
<h3 id="在初始化方法内部定义属性"><a href="#在初始化方法内部定义属性" class="headerlink" title="在初始化方法内部定义属性"></a><strong>在初始化方法内部定义属性</strong></h3><p>在 <code>__init__</code> 方法内部使用 <code>self.属性名 = 属性的初始值</code> 就可以定义属性。之后再使用 <code>Cat</code> 类创建的对象，都会拥有该属性。   </p>
<pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Cat</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"Tom"</span>


tom <span class="token operator">=</span> Cat<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>tom<span class="token punctuation">.</span>name<span class="token punctuation">)</span>

X <span class="token operator">=</span> Cat<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>X<span class="token punctuation">.</span>name<span class="token punctuation">)</span></code></pre>
<p>输出：</p>
<pre class="language-none"><code class="language-none">Tom
Tom</code></pre>
<p>但是这样显然是不太好的，因为所有新定义的对象 <code>name</code> 都是 <code>Tom</code>。<br>所以可以这样改进：   </p>
<pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Cat</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"初始化方法 %s"</span> <span class="token operator">%</span> name<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name


tom <span class="token operator">=</span> Cat<span class="token punctuation">(</span><span class="token string">"Tom"</span><span class="token punctuation">)</span>
lazy_cat <span class="token operator">=</span> Cat<span class="token punctuation">(</span><span class="token string">"大懒猫"</span><span class="token punctuation">)</span></code></pre>
<p>输出：</p>
<pre class="language-none"><code class="language-none">初始化方法 Tom
初始化方法 大懒猫</code></pre>

<h3 id="内置方法-del"><a href="#内置方法-del" class="headerlink" title="内置方法 __del__"></a><strong>内置方法</strong> <code>__del__</code></h3><p>为对象分配完空间后，会自动调用 <code>__init__</code> 方法。当一个对象被从内存中销毁前，会自动调用 <code>__del__</code> 方法。这便是一个对象的生命周期。    </p>
<p>一个对象的生命周期从调用 <code>类名()</code> 创建开始，一到调用 <code>__del__</code> 结束。在生命周期内，可以访问对象属性，或者让对象调用方法。         </p>
<pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Cat</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> new_name<span class="token punctuation">)</span><span class="token punctuation">:</span>

        self<span class="token punctuation">.</span>name <span class="token operator">=</span> new_name
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"%s 来了"</span> <span class="token operator">%</span> self<span class="token punctuation">.</span>name<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">__del__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"%s 去了"</span> <span class="token operator">%</span> self<span class="token punctuation">.</span>name<span class="token punctuation">)</span>


tom <span class="token operator">=</span> Cat<span class="token punctuation">(</span><span class="token string">"Tom"</span><span class="token punctuation">)</span>
<span class="token keyword">del</span> tom</code></pre>
<p>输出：   </p>
<pre class="language-none"><code class="language-none">Tom 来了
Tom 去了</code></pre>

<h3 id="内置方法-str"><a href="#内置方法-str" class="headerlink" title="内置方法 __str__"></a><strong>内置方法</strong> <code>__str__</code></h3><p>使用 <code>print</code> 输出对象变量，默认情况下，会输出：</p>
<pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Cat</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">demo</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">pass</span>


tom <span class="token operator">=</span> Cat<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>tom<span class="token punctuation">)</span></code></pre>
<img src="https://cdn.jsdelivr.net/gh/tangjan/imgBed/posts/python/python8/python8-9.png" style="width:370px" loading="lazy">   

<p>如果希望 <code>print</code> 的内容自定义，就可以利用 <code>__str__</code> 这个内置方法了（必须返回一个字符串）：</p>
<pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Cat</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> new_name<span class="token punctuation">)</span><span class="token punctuation">:</span>

        self<span class="token punctuation">.</span>name <span class="token operator">=</span> new_name

    <span class="token keyword">def</span> <span class="token function">__str__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        <span class="token keyword">return</span> <span class="token string">"我是小猫 %s"</span> <span class="token operator">%</span> self<span class="token punctuation">.</span>name

tom <span class="token operator">=</span> Cat<span class="token punctuation">(</span><span class="token string">"Tom"</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>tom<span class="token punctuation">)</span></code></pre>
<p>输出：<code>我是小猫 Tom</code></p>
<p><br><br><br><br><br></p>
<hr>
</div></section></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/2022/01/23/python/python9/" rel="prev" title="Python-9：面向对象案例：小明爱跑步、摆放家具、士兵突击；身份运算符"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-left-s-line"></use></svg><span class="post-nav-text">Python-9：面向对象案例：小明爱跑步、摆放家具、士兵突击；身份运算符</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/2022/01/22/python/python7/" rel="next" title="Python-7：变量进阶、函数进阶"><span class="post-nav-text">Python-7：变量进阶、函数进阶</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-right-s-line"></use></svg></a></div></div></div></main><footer class="sidebar-translate" id="footer"><div class="copyright"><span>&copy; 2021 – 2023 </span><span class="with-love" id="animate"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-cloud-line"></use></svg></span><span class="author"> 糖加盐</span></div><div class="powered"><span>由 <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> 驱动 v5.4.0</span><span class="footer-separator">|</span><span>主题 - <a rel="noopener" href="https://github.com/YunYouJun/hexo-theme-yun" target="_blank"><span>Yun</span></a> v1.7.0</span></div><div class="footer-custom-text"><a href="https://icp.gov.moe/?keyword=20210789" target="_blank">萌ICP备20210789号</a></div></footer><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-up-s-line"></use></svg><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a></div></body></html>